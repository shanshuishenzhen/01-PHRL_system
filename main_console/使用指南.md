# PH&RL 在线考试系统 - 主控台使用指南

## 概述

主控台是PH&RL在线考试系统的核心控制中心，通过它您可以管理和监控系统的各个功能模块，查看系统状态和日志，以及进行系统设置。本指南将帮助您了解如何使用主控台的各项功能。

## 启动主控台

### 方法一：通过系统启动器启动

1. 双击运行系统根目录下的 `start_system.py`
2. 在启动器界面中点击「启动主控台」按钮

### 方法二：直接启动主控台

1. 打开命令提示符或PowerShell
2. 切换到系统根目录
3. 运行命令：`python main_console/main_console.py`

## 主界面介绍

主控台界面主要分为以下几个区域：

1. **顶部菜单栏**：提供系统操作和设置入口
2. **模块状态区**：显示各功能模块的运行状态
3. **系统资源区**：显示CPU、内存和磁盘使用情况
4. **日志查看区**：显示系统运行日志
5. **状态栏**：显示系统状态和提示信息

## 模块管理

### 启动模块

1. 在模块状态区找到需要启动的模块
2. 点击该模块对应的「启动」按钮
3. 或者使用顶部菜单：「模块」→「启动模块」→选择要启动的模块
4. 要启动所有模块，可以点击「启动所有模块」按钮或使用菜单：「模块」→「启动所有模块」

### 停止模块

1. 在模块状态区找到需要停止的模块
2. 点击该模块对应的「停止」按钮
3. 或者使用顶部菜单：「模块」→「停止模块」→选择要停止的模块
4. 要停止所有模块，可以点击「停止所有模块」按钮或使用菜单：「模块」→「停止所有模块」

### 重启模块

1. 在模块状态区找到需要重启的模块
2. 点击该模块对应的「重启」按钮
3. 或者使用顶部菜单：「模块」→「重启模块」→选择要重启的模块
4. 要重启所有模块，可以点击「重启所有模块」按钮或使用菜单：「模块」→「重启所有模块」

### 打开模块界面

1. 在模块状态区找到需要打开的模块
2. 点击该模块对应的「打开」按钮
3. 系统将在默认浏览器中打开该模块的Web界面

## 日志查看

### 查看系统日志

1. 日志查看区默认显示主控台的日志
2. 使用日志区顶部的下拉菜单可以切换查看不同模块的日志
3. 使用「刷新」按钮可以更新日志内容
4. 使用「清空」按钮可以清空日志显示区域（不会删除日志文件）

### 日志筛选

1. 使用日志区顶部的级别筛选下拉菜单可以选择显示的日志级别（INFO、WARNING、ERROR等）
2. 使用搜索框可以按关键词筛选日志内容

## 系统资源监控

系统资源区显示当前系统的资源使用情况，包括：

1. **CPU使用率**：显示当前CPU使用百分比
2. **内存使用情况**：显示已用内存和总内存
3. **磁盘使用情况**：显示系统所在磁盘的已用空间和总空间

资源监控默认每5秒更新一次，可以在系统设置中调整更新频率或关闭资源监控。

## 系统设置

### 打开设置界面

点击顶部菜单栏的「设置」→「系统设置」，或使用快捷键 `Ctrl+S`

### 常规设置

在「常规」选项卡中，您可以设置：

1. **语言**：选择系统界面语言（目前支持中文和英文）
2. **自动重启崩溃模块**：启用后，系统将自动重启意外崩溃的模块
3. **启用资源监控**：是否显示系统资源使用情况
4. **更新间隔**：设置状态更新的时间间隔（秒）

### 模块设置

在「模块」选项卡中，您可以设置：

1. **模块端口**：设置各功能模块使用的端口号
   - 题库管理模块端口
   - 考试管理模块端口
   - 评分中心模块端口
   - 客户端模块端口

### 日志设置

在「日志」选项卡中，您可以设置：

1. **日志级别**：设置记录的日志级别（DEBUG、INFO、WARNING、ERROR、CRITICAL）
2. **日志文件大小**：设置单个日志文件的最大大小（MB）
3. **日志文件备份数量**：设置保留的日志文件备份数量
4. **控制台日志输出**：是否在控制台窗口输出日志

### 保存设置

完成设置后，点击「保存」按钮应用更改。某些设置（如端口更改）可能需要重启相关模块才能生效。

## 系统信息

### 查看系统信息

点击顶部菜单栏的「帮助」→「关于」，可以查看系统的基本信息，包括：

1. **系统名称和版本**
2. **组织名称**
3. **联系方式**
4. **版权信息**

## 文档和帮助

### 查看文档

点击顶部菜单栏的「帮助」→「文档」，系统将在默认浏览器中打开系统文档。

### 获取帮助

如果您在使用过程中遇到问题，可以：

1. 查看系统日志获取错误信息
2. 参考系统文档中的故障排除部分
3. 联系技术支持：support@phrl-exam.com

## 常见问题解答

### 模块无法启动

**问题**：点击启动按钮后，模块状态仍显示为「未运行」

**解决方法**：
1. 检查日志查看区的错误信息
2. 确认模块文件是否存在
3. 检查模块使用的端口是否被其他程序占用
4. 尝试重启主控台

### 无法打开模块界面

**问题**：点击「打开」按钮后，浏览器无法显示模块界面

**解决方法**：
1. 确认模块状态是否为「运行中」
2. 检查浏览器是否能正常访问localhost
3. 尝试手动在浏览器中输入模块URL（如http://localhost:5000）
4. 检查防火墙设置是否阻止了本地Web服务

### 资源监控不显示

**问题**：系统资源区域没有显示资源使用情况

**解决方法**：
1. 在系统设置中确认「启用资源监控」已勾选
2. 检查是否安装了psutil库（可选依赖，用于资源监控）
3. 尝试重启主控台

### 日志不更新

**问题**：日志查看区不显示最新的日志内容

**解决方法**：
1. 点击日志区的「刷新」按钮
2. 确认选择了正确的模块日志
3. 检查日志文件是否存在于logs目录中

## 快捷键参考

- `Ctrl+S`：打开系统设置
- `F5`：刷新日志和状态
- `Ctrl+A`：启动所有模块
- `Ctrl+T`：停止所有模块
- `Ctrl+R`：重启所有模块
- `F1`：打开帮助文档
- `Alt+F4`：退出主控台

## 安全提示

1. 不要随意修改系统文件和配置
2. 定期备份系统数据和配置
3. 不要将系统直接暴露在公网环境中
4. 保持系统和依赖库的更新
5. 使用完毕后正确关闭所有模块和主控台